<HTML>
<HEAD><TITLE> </TITLE></HEAD>
<BODY>
<HR>
<b>SuperClasses</b>: <a href="javascript:parent.code.dispatch('Viewpoint')">Viewpoint</a>, 

<br>
<b>SubClasses</b>: 
<HR>
<PRE>

;;
;; $Id: <a href="javascript:parent.code.dispatch('Class-Definition-Viewpoint')">Class-Definition-Viewpoint</a>.km,v 1.37 2010/05/18 14:58:30 kbarker Exp $
;;

(<a href="javascript:parent.code.dispatch('Class-Definition-Viewpoint')">Class-Definition-Viewpoint</a> has (superclasses (<a href="javascript:parent.code.dispatch('Viewpoint')">Viewpoint</a>)))

(every <a href="javascript:parent.code.dispatch('Class-Definition-Viewpoint')">Class-Definition-Viewpoint</a> has
  (<a href="javascript:parent.code.dispatch('viewpoint-question')">viewpoint-question</a> (
    (if (has-value (the1 of (the <a href="javascript:parent.code.dispatch('viewpoint-target')">viewpoint-target</a> of Self)))
     then (make-phrase (
            (?target-prop == 
              (if ((the1 of (the <a href="javascript:parent.code.dispatch('viewpoint-target')">viewpoint-target</a> of Self)) isa <a href="javascript:parent.code.dispatch('Property-Value')">Property-Value</a>)
               then (oneof ?pr in (the all-instances of <a href="javascript:parent.code.dispatch('Property')">Property</a>)
                     where (oneof ?tr in (the <a href="javascript:parent.code.dispatch('viewpoint-scenario')">viewpoint-scenario</a> of Self)
                            where (((the1 of ?tr) = (the1 of (the <a href="javascript:parent.code.dispatch('viewpoint-target')">viewpoint-target</a> of Self)))
                                   and
                                   ((the2 of ?tr) = input-word)
                                   and
                                   ((the name of ?pr) = (the1 of (the3 of ?tr)))
                                  )
                           )
                    )
            ))
            and
            (?p-slot == (?target-prop
                         or
                         (the first of
                              (the <a href="javascript:parent.code.dispatch('primary-slot')">primary-slot</a> of (the1 of (the <a href="javascript:parent.code.dispatch('viewpoint-target')">viewpoint-target</a> of Self))))
                         or
                         (the first of 
                              (the <a href="javascript:parent.code.dispatch('Property')">Property</a> range-of of 
                                   (the first of (the classes of (the1 of (the <a href="javascript:parent.code.dispatch('viewpoint-target')">viewpoint-target</a> of Self))))))
                        )
            )
            and
            (?scenario-class-trip == (oneof ?tr in (the <a href="javascript:parent.code.dispatch('viewpoint-scenario')">viewpoint-scenario</a> of (the <a href="javascript:parent.code.dispatch('viewpoint-parent')">viewpoint-parent</a> of Self))
                                      where (((the1 of ?tr) = (the1 of (the <a href="javascript:parent.code.dispatch('viewpoint-target')">viewpoint-target</a> of Self)))
                                             and
                                             ((the2 of ?tr) = instance-of)
                                            )
            ))
            and
            (?scenario-class == (if (has-value ?scenario-class-trip)
                                 then (the3 of ?scenario-class-trip)
            ))
            and
            (if (has-value ?p-slot)
             then (:seq "What is" ?p-slot "nospace" "?")
             else (if (has-value (the <a href="javascript:parent.code.dispatch('viewpoint-parent')">viewpoint-parent</a> of Self))
                   then (:seq "What is the" ?scenario-class "nospace" "?")
                   else (:seq "What is"
                              (if (((the1 of (the <a href="javascript:parent.code.dispatch('viewpoint-target')">viewpoint-target</a> of Self)) isa <a href="javascript:parent.code.dispatch('Property-Value')">Property-Value</a>)
                                   and
                                   (has-value ?p-slot)
                                  )
                                  then ?p-slot
                                  else (:seq (if ((:set "A" "E" "I" "O" "U" "a" "e" "i" "o" "u")
                                                  includes
                                                  (#'(LAMBDA () 
                                                       (STRING 
                                                         (CHAR 
                                                           (STRING 
                                                             (KM-UNIQUE0 '(|the1| |of| (|the| |viewpoint-target| |of| |Self|)))) 
                                                           1))))
                                                 )
                                              then (:seq "an")
                                              else (:seq "a")
                                             )
                                             (the first of (the classes of (the1 of (the <a href="javascript:parent.code.dispatch('viewpoint-target')">viewpoint-target</a> of Self))))
                                       )
                              )
                              "nospace" "?"
                        )
                  )
          )))
     else (make-sentence (:seq "unable to describe"
                               (the first of (the classes of (the1 of (the <a href="javascript:parent.code.dispatch('viewpoint-target')">viewpoint-target</a> of Self))))))
    )
  ))

  (<a href="javascript:parent.code.dispatch('viewpoint-detail-title')">viewpoint-detail-title</a> ("Detail"))

  (<a href="javascript:parent.code.dispatch('viewpoint-answer')">viewpoint-answer</a> (
    (make-phrase (
      (?target-prop == 
        (if ((the1 of (the <a href="javascript:parent.code.dispatch('viewpoint-target')">viewpoint-target</a> of Self)) isa <a href="javascript:parent.code.dispatch('Property-Value')">Property-Value</a>)
         then (oneof ?pr in (the all-instances of <a href="javascript:parent.code.dispatch('Property')">Property</a>)
               where (oneof ?tr in (the <a href="javascript:parent.code.dispatch('viewpoint-scenario')">viewpoint-scenario</a> of Self)
                      where (((the1 of ?tr) = (the1 of (the <a href="javascript:parent.code.dispatch('viewpoint-target')">viewpoint-target</a> of Self)))
                             and
                             ((the2 of ?tr) = input-word)
                             and
                             ((the name of ?pr) = (the1 of (the3 of ?tr)))
                            )
                     )
              )
      ))
      and
      (if (has-value (the1 of (the <a href="javascript:parent.code.dispatch('viewpoint-target')">viewpoint-target</a> of Self)))
       then (if ((the1 of (the <a href="javascript:parent.code.dispatch('viewpoint-target')">viewpoint-target</a> of Self)) isa <a href="javascript:parent.code.dispatch('Property-Value')">Property-Value</a>)
             then (make-phrase (
                    (:seq "<b>"
                          (?target-prop
                           or
                           (the first of (the <a href="javascript:parent.code.dispatch('primary-slot')">primary-slot</a> of (the1 of (the <a href="javascript:parent.code.dispatch('viewpoint-target')">viewpoint-target</a> of Self))))
                           or
                           (the first of 
                                (the <a href="javascript:parent.code.dispatch('Property')">Property</a> range-of of 
                                     (the first of (the classes of (the1 of (the <a href="javascript:parent.code.dispatch('viewpoint-target')">viewpoint-target</a> of Self)))))
                           )
                          )
                          "nospace" ":</b>"
                          (make-sentence (
                            (the <a href="javascript:parent.code.dispatch('description')">description</a> of ?target-prop)
                            or
                            (the <a href="javascript:parent.code.dispatch('user-description')">user-description</a> of
                                 (the instance-of of (the1 of (the <a href="javascript:parent.code.dispatch('viewpoint-target')">viewpoint-target</a> of Self))))
                            or
                            (the <a href="javascript:parent.code.dispatch('description')">description</a> of
                                 (the instance-of of (the1 of (the <a href="javascript:parent.code.dispatch('viewpoint-target')">viewpoint-target</a> of Self))))
                          ))
                    )
                  ))
             else (if (has-value (the <a href="javascript:parent.code.dispatch('viewpoint-parent')">viewpoint-parent</a> of Self))
                   then (make-phrase (
                           (?scenario-class-trip == (oneof ?tr in (the <a href="javascript:parent.code.dispatch('viewpoint-scenario')">viewpoint-scenario</a> of (the <a href="javascript:parent.code.dispatch('viewpoint-parent')">viewpoint-parent</a> of Self))
                                                     where (((the1 of ?tr) = (the1 of (the <a href="javascript:parent.code.dispatch('viewpoint-target')">viewpoint-target</a> of Self)))
                                                            and
                                                            ((the2 of ?tr) = instance-of)
                                                           )
                           ))
                           and
                           (?scenario-class == (if (has-value ?scenario-class-trip)
                                                then (the3 of ?scenario-class-trip)
                           ))
                           and
                           (:seq "The"
                                 ?scenario-class
                                 "is"
			         (if (has-value (the <a href="javascript:parent.code.dispatch('text-indef-phrase')">text-indef-phrase</a> of (the1 of (the <a href="javascript:parent.code.dispatch('viewpoint-target')">viewpoint-target</a> of Self))))
			         then (:seq (the <a href="javascript:parent.code.dispatch('text-indef-phrase')">text-indef-phrase</a> of (the1 of (the <a href="javascript:parent.code.dispatch('viewpoint-target')">viewpoint-target</a> of Self))) "nospace" ".")
			         )
			         (if (has-value (the <a href="javascript:parent.code.dispatch('user-description')">user-description</a> of
					             (the instance-of of (the1 of (the <a href="javascript:parent.code.dispatch('viewpoint-target')">viewpoint-target</a> of Self)))))
			         then (:seq (the <a href="javascript:parent.code.dispatch('user-description')">user-description</a> of
					             (the instance-of of (the1 of (the <a href="javascript:parent.code.dispatch('viewpoint-target')">viewpoint-target</a> of Self))))
				            "nospace" ".")
		                 )
                           )
                        ))
                   else (make-phrase (
                           (:seq "<b>"
                                 (the instance-of of (the1 of (the <a href="javascript:parent.code.dispatch('viewpoint-target')">viewpoint-target</a> of Self)))
                                 "nospace" ":</b>"
                                 (make-sentence (
                                   (the <a href="javascript:parent.code.dispatch('description')">description</a> of ?target-prop)
                                   or
                                   (the <a href="javascript:parent.code.dispatch('user-description')">user-description</a> of
                                        (the instance-of of (the1 of (the <a href="javascript:parent.code.dispatch('viewpoint-target')">viewpoint-target</a> of Self))))
                                   or
                                   (the <a href="javascript:parent.code.dispatch('description')">description</a> of
                                        (the instance-of of (the1 of (the <a href="javascript:parent.code.dispatch('viewpoint-target')">viewpoint-target</a> of Self))))
                                   or
                                   (the <a href="javascript:parent.code.dispatch('text-definition-sentence')">text-definition-sentence</a> of (the1 of (the <a href="javascript:parent.code.dispatch('viewpoint-target')">viewpoint-target</a> of Self)))
                                 ))
                           )
                        ))
                  )
            )
      )
  ))))

  (<a href="javascript:parent.code.dispatch('viewpoint-detail')">viewpoint-detail</a> (
    (if (has-value (the1 of (the <a href="javascript:parent.code.dispatch('viewpoint-target')">viewpoint-target</a> of Self)))
     then (if ((the1 of (the <a href="javascript:parent.code.dispatch('viewpoint-target')">viewpoint-target</a> of Self)) isa <a href="javascript:parent.code.dispatch('Property-Value')">Property-Value</a>)
           then (make-phrase (
                   (?p-slot == ((the first of
                                     (the <a href="javascript:parent.code.dispatch('primary-slot')">primary-slot</a> of (the1 of (the <a href="javascript:parent.code.dispatch('viewpoint-target')">viewpoint-target</a> of Self))))
                                or
                                (the first of 
                                     (the <a href="javascript:parent.code.dispatch('Property')">Property</a> range-of of 
                                          (the first of (the classes of (the1 of (the <a href="javascript:parent.code.dispatch('viewpoint-target')">viewpoint-target</a> of Self))))))
                               )
                   )
                   and
                   (?s-slot == ((the <a href="javascript:parent.code.dispatch('secondary-slot')">secondary-slot</a> of (the1 of (the <a href="javascript:parent.code.dispatch('viewpoint-target')">viewpoint-target</a> of Self)))
                                or
                                ?p-slot
                               )
                   )
                   and
                   (:seq (if (has-value (the instances of (the <a href="javascript:parent.code.dispatch('cardinal-unit-class')">cardinal-unit-class</a> of ?s-slot)))
                          then (:seq "<ul><li>The units for"
                                     ?p-slot
                                     "are:"
                                     (andify (the instances of (the <a href="javascript:parent.code.dispatch('cardinal-unit-class')">cardinal-unit-class</a> of ?s-slot)))
                                     "nospace" "."
                                     "</li></ul>
"
                               )
                         )
                         (if (has-value (the instances of (the <a href="javascript:parent.code.dispatch('scalar-constant-class')">scalar-constant-class</a> of ?s-slot)))
                          then (:seq "<ul><li>Adjectives describing"
                                     ?p-slot
                                     "are:"
                                     (andify (the instances of (the <a href="javascript:parent.code.dispatch('scalar-constant-class')">scalar-constant-class</a> of ?s-slot)))
                                     "nospace" "."
                                     "</li></ul>
"
                               )
                         )
                         (if (has-value (the <a href="javascript:parent.code.dispatch('element')">element</a> of (the instances of (the <a href="javascript:parent.code.dispatch('scale-class')">scale-class</a> of ?s-slot))))
                          then (:seq "<ul><li>Adjectives appear in the following ordering(s):"
                                     (forall ?sc in (the instances of (the <a href="javascript:parent.code.dispatch('scale-class')">scale-class</a> of ?s-slot))
                                      where (has-value (the <a href="javascript:parent.code.dispatch('element')">element</a> of ?sc))
                                      (:seq "<ul><li>"
                                            (the1 of (the <a href="javascript:parent.code.dispatch('element')">element</a> of ?sc))
                                            (forall-seq ?sce in (the <a href="javascript:parent.code.dispatch('element')">element</a> of ?sc)
                                             where (?sce /= (the1 of (the <a href="javascript:parent.code.dispatch('element')">element</a> of ?sc)))
                                             (:seq "..." ?sce))
                                            "</li></ul>
"
                                      )
                                     )
                                     "</li></ul>
"
                               )
                         )
                         (if (has-value (the instances of (the <a href="javascript:parent.code.dispatch('categorical-constant-class')">categorical-constant-class</a> of ?s-slot)))
                          then (:seq "<ul><li>Adjectives describing"
                                     ?p-slot
                                     "are:"
                                     (andify (the instances of (the <a href="javascript:parent.code.dispatch('categorical-constant-class')">categorical-constant-class</a> of ?s-slot)))
                                     "nospace" "."
                                     "</li></ul>
"
                               )
                         )
                   )
                ))

           else (make-phrase (
                   (?targ == (the1 of (the <a href="javascript:parent.code.dispatch('viewpoint-target')">viewpoint-target</a> of Self)))
                   and
                   (?vmg-simple-triples ==
                     (allof ?trip in (the <a href="javascript:parent.code.dispatch('viewpoint-scenario')">viewpoint-scenario</a> of Self)
                      where (((the2 of ?trip) /= <a href="javascript:parent.code.dispatch('value')">value</a>)
                             and
                             ((the2 of ?trip) /= <a href="javascript:parent.code.dispatch('equation-expression')">equation-expression</a>)
                             and
                             ((the2 of ?trip) /= user-equation-expression)
                             and
                             ((the2 of ?trip) /= <a href="javascript:parent.code.dispatch('equation-symbol')">equation-symbol</a>)
                            )
                     )
                   )
                   and
                   (?vmg-trips-filtered == 
                     (allof ?trip in ?vmg-simple-triples
                      where ((((the2 of ?trip) isa <a href="javascript:parent.code.dispatch('Property')">Property</a>)
                              or
                              (has-value (the <a href="javascript:parent.code.dispatch('text-gloss')">text-gloss</a> of (the2 of ?trip)))
                              or
                              (has-value (the <a href="javascript:parent.code.dispatch('text-slot')">text-slot</a> of (the2 of ?trip)))
                             )
                             and
                             ((#'(LAMBDA () (CONCEPT-IS-DOMSPEC (CAR (KM0 '(|the| |classes| |of| (|the1| |of| |?trip|)))))))
                              or
                              (#'(LAMBDA () (CONCEPT-IS-DOMSPEC (CAR (KM0 '(|the| |classes| |of| (|the3| |of| |?trip|)))))))
                             )
                            )
                   ))
                   and
                   (?var-trips == (allof ?trip in (the <a href="javascript:parent.code.dispatch('viewpoint-scenario')">viewpoint-scenario</a> of Self)
                                   where ((the2 of ?trip) = <a href="javascript:parent.code.dispatch('equation-symbol')">equation-symbol</a>))
                   )
                   and
                   (?eqn-trips == (allof ?trip in (the <a href="javascript:parent.code.dispatch('viewpoint-scenario')">viewpoint-scenario</a> of Self)
                                   where ((the2 of ?trip) = <a href="javascript:parent.code.dispatch('equation-expression')">equation-expression</a>))
                   )
                   and
                   (?functional-trips == (allof ?trip in ?vmg-trips-filtered
                                          where (((the2 of ?trip) isa <a href="javascript:parent.code.dispatch('Participant-Relation')">Participant-Relation</a>)
                                                 or
                                                 ((the2 of ?trip) isa <a href="javascript:parent.code.dispatch('Causal-Relation')">Causal-Relation</a>)
                                                )
                                         )
                   )
                   and
                   (?structural-trips == (allof ?trip in ?vmg-trips-filtered
                                          where (((the2 of ?trip) isa <a href="javascript:parent.code.dispatch('Meronymic-Relation')">Meronymic-Relation</a>)
                                                 and
                                                 (not (?functional-trips includes ?trip))
                                                )
                                         )
                   )
                   and
                   (?struct-trips-constraints == 
                                         (forall ?trip in ?structural-trips
                                          where (#'(LAMBDA () (GET-INSTANCE-CONSTRAINTS 
                                                              (KM-UNIQUE0 '(|the1| |of| |?trip|))
                                                              (KM-UNIQUE0 '(|the2| |of| |?trip|))))
                                                )
                                          (:triple (the1 of ?trip) 
                                                   (the2 of ?trip)
                                                   (#'(LAMBDA () (GET-INSTANCE-CONSTRAINTS 
                                                                   (KM-UNIQUE0 '(|the1| |of| |?trip|))
                                                                   (KM-UNIQUE0 '(|the2| |of| |?trip|)))))
                                          )
                                         )
                   )
                   and
                   (?spatial-trips == (allof ?trip in ?vmg-trips-filtered
                                       where (((the2 of ?trip) isa <a href="javascript:parent.code.dispatch('Spatial-Relation')">Spatial-Relation</a>)
                                              and
                                              (not (?functional-trips includes ?trip))
                                              and
                                              (not (?structural-trips includes ?trip))
                                              and
                                              ((the <a href="javascript:parent.code.dispatch('text-indef-head')">text-indef-head</a> of (the3 of ?trip)) 
                                               /= (the <a href="javascript:parent.code.dispatch('text-indef-head')">text-indef-head</a> of (an instance of (the first of (the range of (the2 of ?trip)))))
                                              )
                                             )
                                      )
                   )
                   and
                   (?property-trips == (allof ?trip in ?vmg-trips-filtered
                                        where (
                                               ((the2 of ?trip) isa <a href="javascript:parent.code.dispatch('Property')">Property</a>)
                                               and
                                               (has-<a href="javascript:parent.code.dispatch('value')">value</a> (the value of (the3 of ?trip)))
                                               and
                                               ((the <a href="javascript:parent.code.dispatch('text-def-head')">text-def-head</a> of (the1 of ?trip)) 
                                                /= (the <a href="javascript:parent.code.dispatch('text-def-head')">text-def-head</a> of (an instance of (the first of (the classes of (the1 of ?trip)))))
                                               )
                                              )
                                       )
                   )
                   and
                   (:seq
                     (if (has-value ?eqn-trips) then
                       (:seq 
                         "<b><i>Equations defined by this concept</i></b><br />
<ul>
"
                         (forall ?trip in ?eqn-trips
                           (:seq "<li>"
                                 (#'(LAMBDA () (INFIXSTR-HTMLIFY (UNQUOTE (CAR (KM0 '(|the3| |of| |?trip|)))) 'HTML)))
                                 "</li>
"
                           )
                         )
                         "</ul>
"
                         "<br />
where<br />
<ul>
"
                         (forall ?trip in ?var-trips
                           ((?var-sym-pair == (the3 of ?trip))
                            and
                            (?var-sym == (the1 of ?var-sym-pair))
                            and
                            (?var-val == (the2 of ?var-sym-pair))
                            and
                            (?var-target == (the first of (the (the <a href="javascript:parent.code.dispatch('property-of-slot')">property-of-slot</a> of ?var-val) of ?var-val)))
                            and
                            (:seq "<li>"
                                  (#'(LAMBDA () (STR-HTMLIFY-VAR-SUBSCRIPT (CADR (FIRST (KM0 '|?var-sym|))))))
                                  "= the"
                                  (if (?var-target isa <a href="javascript:parent.code.dispatch('Property-Value')">Property-Value</a>)
                                   then (:seq (the name of ((the <a href="javascript:parent.code.dispatch('property-slot')">property-slot</a> of ?var-target)
                                                            or
                                                            (the first of (the <a href="javascript:parent.code.dispatch('primary-slot')">primary-slot</a> of ?var-target))))
                                              (if (has-value (the <a href="javascript:parent.code.dispatch('property-of-slot')">property-of-slot</a> of ?var-target))
                                               then (:seq
                                                      (if (?var-val isa <a href="javascript:parent.code.dispatch('Angle-Value')">Angle-Value</a>)
                                                       then "<a href="javascript:parent.code.dispatch('direction')">direction</a> of"
                                                       else "magnitude of"
                                                      )
                                                      (the <a href="javascript:parent.code.dispatch('text-def-head')">text-def-head</a> of
                                                           (the first of
                                                                (the (the <a href="javascript:parent.code.dispatch('property-of-slot')">property-of-slot</a> of ?var-target) of ?var-target))
                                                      )
                                                    )
                                              )
                                        )
                                   else (:seq (the name of ((the <a href="javascript:parent.code.dispatch('property-slot')">property-slot</a> of ?var-val)
                                                            or
                                                            (the first of (the <a href="javascript:parent.code.dispatch('primary-slot')">primary-slot</a> of ?var-val))))
                                              "of"
                                              (the <a href="javascript:parent.code.dispatch('text-def-head')">text-def-head</a> of ?var-target)
                                        )
                                  )
                                  "nospace" "</li>"
                            )
                         ))

                         "</ul>
"
                       )
                     )

                     (if (has-value ?structural-trips) then
                       (:seq 
                         "<b><i>What is the structure?</i></b>
"
                         "<ul>
"
                         (forall ?trip in (:set ?structural-trips ?struct-trips-constraints) 
                          where ((the classes of (the1 of ?trip)) = (the classes of ?targ))
                           (make-phrase      ;; make-phrase removes dupes
                             (:seq "<li>"
                                   (if (has-value (the <a href="javascript:parent.code.dispatch('text-def-head')">text-def-head</a> of (the1 of ?trip)))
                                    then (the <a href="javascript:parent.code.dispatch('text-def-head')">text-def-head</a> of (the1 of ?trip))
                                    else (the1 of ?trip)
                                   )
                                   (if (has-value (the <a href="javascript:parent.code.dispatch('text-gloss')">text-gloss</a> of (the2 of ?trip)))
                                    then (the <a href="javascript:parent.code.dispatch('text-gloss')">text-gloss</a> of (the2 of ?trip))
                                    else (if (has-value (the <a href="javascript:parent.code.dispatch('text-slot')">text-slot</a> of (the2 of ?trip)))
                                          then (:seq "is" (the (the <a href="javascript:parent.code.dispatch('text-slot')">text-slot</a> of (the2 of ?trip)) of (the1 of ?trip)))
                                         )
                                   )

                                   (if ((the3 of ?trip) isa String)
                                    then (the3 of ?trip)
                                    else (#'(LAMBDA () (BPS-LINKIFY-DOMSPEC-INSTANCE (CAR (KM0 '(|the3| |of| |?trip|)))
                                                                                     (CAR (KM0 '(|make-phrase| (|the| |text-indef-head| |of| (|the3| |of| |?trip|))))))))
                                   )

                                   (
                                    (?trip-index == (#'(LAMBDA () (INDEX-KB-TRIPLE '|?trip|))))
                                    and
                                    (if ?trip-index
                                     then (:seq "["
                                                "<A HREF=\"javascript:void(0)\" onClick=\"javascript:linkCommand('"
                                                "nospace"
                                                ?trip-index
                                                "nospace"
                                                "')\">why?</A> ]
"
                                          )
                                    )
                                   )
                                   "</li>
"
                             )
                         ))
                         "</ul>
"
                       )
                     )
                     (if (has-value ?functional-trips) then
                       (:seq 
                         "<b><i>What is the purpose?</i></b>
"
                         "<ul>
"
                         (forall ?trip in ?functional-trips 
                          where (((the classes of (the1 of ?trip)) = (the classes of ?targ))
                                 and 
                                 ((the2 of ?trip) /= <a href="javascript:parent.code.dispatch('in-event')">in-event</a>)) (make-phrase
                          (:seq "<li>"
                                (if (has-value (the <a href="javascript:parent.code.dispatch('text-def-head')">text-def-head</a> of (the1 of ?trip)))
                                 then (the <a href="javascript:parent.code.dispatch('text-def-head')">text-def-head</a> of (the1 of ?trip))
                                 else (the1 of ?trip)
                                )
                                (if (has-value (the <a href="javascript:parent.code.dispatch('text-gloss')">text-gloss</a> of (the2 of ?trip)))
                                 then (the <a href="javascript:parent.code.dispatch('text-gloss')">text-gloss</a> of (the2 of ?trip))
                                 else (if (has-value (the <a href="javascript:parent.code.dispatch('text-slot')">text-slot</a> of (the2 of ?trip)))
                                       then (:seq "is" (the (the <a href="javascript:parent.code.dispatch('text-slot')">text-slot</a> of (the2 of ?trip)) of (the1 of ?trip)))
                                      )
                                )

                                (if ((the3 of ?trip) isa String)
                                 then (the3 of ?trip)
                                 else (if (#'(LAMBDA () (CONCEPT-IS-DOMSPEC (CAR (KM0 '(|the| |classes| |of| (|the3| |of| |?trip|)))))))
                                       then
                                       (
                                        (?inst-index == (#'(LAMBDA () (INDEX-KB-INSTANCE (CAR (KM0 '(|the3| |of| |?trip|)))))))
                                        and
                                        (:seq "<A HREF=\"javascript:void(0)\" onClick=\"javascript:linkCommand('"
                                              "nospace"
                                              ?inst-index
                                              "nospace"
                                              "')\">"
                                              (the <a href="javascript:parent.code.dispatch('text-indef-head')">text-indef-head</a> of (the3 of ?trip))
                                              "nospace" "</A>
"
                                        )
                                       )
                                       else (the <a href="javascript:parent.code.dispatch('text-indef-head')">text-indef-head</a> of (the3 of ?trip))
                                      )
                                )

                                (if (has-value (the <a href="javascript:parent.code.dispatch('in-event')">in-event</a> of (the3 of ?trip)))
                                 then (:seq "in" (the <a href="javascript:parent.code.dispatch('text-indef-head')">text-indef-head</a> of (the <a href="javascript:parent.code.dispatch('in-event')">in-event</a> of (the3 of ?trip)))))

                                (
                                 (?trip-index == (#'(LAMBDA () (INDEX-KB-TRIPLE '|?trip|))))
                                 and
                                 (if ?trip-index
                                  then (:seq "["
                                             "<A HREF=\"javascript:void(0)\" onClick=\"javascript:linkCommand('"
                                             "nospace"
                                             ?trip-index
                                             "nospace"
                                             "')\">why?</A> ]
"
                                       )
                                 )
                                )
                                "</li>
"

                          )
                         ))
                         "</ul>
"
                       )
                     )
                     (if ((has-value ?property-trips) or (has-value ?spatial-trips)) then
                       (:seq 

                         "<b><i>Other detail</i></b>
"
                         "<ul>
"
                         (forall ?trip in ?property-trips 
                          where (((the classes of (the1 of ?trip)) = (the classes of ?targ))
                                 and 
                                 ((the2 of ?trip) /= <a href="javascript:parent.code.dispatch('in-event')">in-event</a>)) (make-phrase
                          (:seq "<li>"
                                (if (has-value (the <a href="javascript:parent.code.dispatch('text-def-head')">text-def-head</a> of (the1 of ?trip)))
                                 then (the <a href="javascript:parent.code.dispatch('text-def-head')">text-def-head</a> of (the1 of ?trip))
                                 else (the1 of ?trip)
                                )
                                "has" 
                                (if (has-<a href="javascript:parent.code.dispatch('value')">value</a> (the value of (the (the2 of ?trip) of (the1 of ?trip))))
                                 then (:seq (the2 of ?trip)
                                            "nospace" ":"
                                            (if (has-<a href="javascript:parent.code.dispatch('value')">value</a> (the2 of (the value of (the (the2 of ?trip) of (the1 of ?trip)))))
                                             then (:seq (the1 of (the <a href="javascript:parent.code.dispatch('value')">value</a> of (the (the2 of ?trip) of (the1 of ?trip))))
                                                        "(" "nospace" "with respect to"
                                                        (the2 of (the <a href="javascript:parent.code.dispatch('value')">value</a> of (the (the2 of ?trip) of (the1 of ?trip))))
                                                        "nospace" ")"
                                                  )
                                             else (the1 of (the <a href="javascript:parent.code.dispatch('value')">value</a> of (the (the2 of ?trip) of (the1 of ?trip)))))
                                      )
                                 else (:seq "an unknown" (the2 of ?trip))
                                )

                                (
                                 (?trip-index == (#'(LAMBDA () (INDEX-KB-TRIPLE '|?trip|))))
                                 and
                                 (if ?trip-index
                                  then (:seq "["
                                             "<A HREF=\"javascript:void(0)\" onClick=\"javascript:linkCommand('"
                                             "nospace"
                                             ?trip-index
                                             "nospace"
                                             "')\">why?</A> ]
"
                                       )
                                 )
                                )
                                "</li>
"

                          )
                         ))
;                   "</ul>
;"
;
;                   "<b><i>Spatial Information</i></b>
;"
;                   "<ul>
;"
                         (forall ?trip in ?spatial-trips 
                          where ((the classes of (the1 of ?trip)) = (the classes of ?targ)) 
                            (make-phrase
                              (:seq 
                                "<li>"
                                (if (has-value (the <a href="javascript:parent.code.dispatch('text-def-head')">text-def-head</a> of (the1 of ?trip)))
                                 then (the <a href="javascript:parent.code.dispatch('text-def-head')">text-def-head</a> of (the1 of ?trip))
                                 else (the1 of ?trip)
                                )
                                (if (has-value (the <a href="javascript:parent.code.dispatch('text-gloss')">text-gloss</a> of (the2 of ?trip)))
                                 then (the <a href="javascript:parent.code.dispatch('text-gloss')">text-gloss</a> of (the2 of ?trip))
                                 else (if (has-value (the <a href="javascript:parent.code.dispatch('text-slot')">text-slot</a> of (the2 of ?trip)))
                                       then (:seq "is" (the (the <a href="javascript:parent.code.dispatch('text-slot')">text-slot</a> of (the2 of ?trip)) of (the1 of ?trip)))
                                      )
                                )

                                (if ((the3 of ?trip) isa String)
                                 then (the3 of ?trip)
                                 else (if (#'(LAMBDA () (CONCEPT-IS-DOMSPEC (CAR (KM0 '(|the| |classes| |of| (|the3| |of| |?trip|)))))))
                                       then
                                       (
                                        (?inst-index == (#'(LAMBDA () (INDEX-KB-INSTANCE (CAR (KM0 '(|the3| |of| |?trip|)))))))
                                        and
                                        (:seq "<A HREF=\"javascript:void(0)\" onClick=\"javascript:linkCommand('"
                                              "nospace"
                                              ?inst-index
                                              "nospace"
                                              "')\">"
                                              (the <a href="javascript:parent.code.dispatch('text-indef-head')">text-indef-head</a> of (the3 of ?trip))
                                              "nospace" "</A>
"
                                        )
                                       )
                                       else (the <a href="javascript:parent.code.dispatch('text-indef-head')">text-indef-head</a> of (the3 of ?trip))
                                      )
                                )

                                (
                                 (?trip-index == (#'(LAMBDA () (INDEX-KB-TRIPLE '|?trip|))))
                                 and
                                 (if ?trip-index
                                  then (:seq "["
                                             "<A HREF=\"javascript:void(0)\" onClick=\"javascript:linkCommand('"
                                             "nospace"
                                             ?trip-index
                                             "nospace"
                                             "')\">why?</A> ]
"
                                       )
                                 )
                                )
                                "</li>
"

                              )
                         ))
                         "</ul>
"
                       )
                     )
                   )
                ))
          )
  )))
)


</PRE>
</BODY>
<hr>
Last modified <script>
                    var modifieddate=document.lastModified
                    document.write(modifieddate)
                    </script>
</hr>
</HTML>